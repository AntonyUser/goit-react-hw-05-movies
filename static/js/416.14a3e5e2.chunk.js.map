{"version":3,"file":"static/js/416.14a3e5e2.chunk.js","mappings":"6PAEAA,EAAAA,GAAAA,SAAAA,QAAyB,6BACzB,IAAMC,EAAU,mCAEHC,EAAc,mCAAG,6GAEHF,EAAAA,GAAAA,IAAA,uCAA0CC,IAFvC,cAEpBE,EAFoB,yBAGnBA,EAASC,KAAKC,SAHK,gCAK1BC,QAAQC,IAAR,MAL0B,yDAAH,qDASdC,EAAY,mCAAG,WAAOC,EAASC,EAASC,GAAzB,gGAEDX,EAAAA,GAAAA,IAAA,kBACVS,GADU,OACAC,EAAU,WAAa,IADvB,OAEnBC,EAAU,WAAa,GAFJ,oBAGTV,IALU,cAElBE,EAFkB,yBAOjBA,EAASC,MAPQ,gCASxBE,QAAQC,IAAR,MATwB,yDAAH,0DAaZK,EAAgB,mCAAG,WAAMC,GAAN,gGAELb,EAAAA,GAAAA,IAAA,iCACKC,EADL,kBACsBY,IAHjB,cAEtBV,EAFsB,yBAKrBA,EAASC,KAAKC,SALO,gCAO5BC,QAAQC,IAAR,MAP4B,yDAAH,qD,mHC1B7B,EAAuB,wBAAvB,EAAqD,uB,kBCqFrD,EAzEkB,WAAO,IAAD,IACtB,GAAkCO,EAAAA,EAAAA,UAAS,MAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,MAAnC,eAAOG,EAAP,KAAcC,EAAd,KACQT,GAAYU,EAAAA,EAAAA,MAAZV,QACFW,GAAWC,EAAAA,EAAAA,MACXC,EAAQ,iBAAGF,QAAH,IAAGA,GAAH,UAAGA,EAAUG,aAAb,aAAG,EAAiBC,YAApB,QAA4B,IAoB1C,OAlBAC,EAAAA,EAAAA,YAAU,WACR,KACEjB,EAAAA,EAAAA,IAAaC,GAAS,GAAO,GAAOiB,MAAK,SAAAtB,GACvC,IAAQuB,EACNvB,EADMuB,eAAgBC,EACtBxB,EADsBwB,SAAUC,EAChCzB,EADgCyB,YAAaC,EAC7C1B,EAD6C0B,OAAQC,EACrD3B,EADqD2B,WAEvDf,EAAa,CACXW,eAAAA,EACAC,SAAAA,EACAC,YAAAA,EACAE,WAAAA,EACAD,OAAQA,EAAOE,KAAI,SAAAC,GAAC,OAAIA,EAAEC,IAAN,KAEvB,GAGF,CAFC,MAAOjB,GACPC,EAASD,EACV,CACF,GAAE,CAACR,KAGF,2BACGM,IACC,iCACE,SAAC,KAAD,CAAMoB,GAAIb,EAAUc,UAAWC,EAA/B,sBAGA,iBAAKD,UAAWC,EAAhB,WACE,gBACEC,IAAG,yCAAoCvB,EAAUc,aACjDU,IAAKxB,EAAUY,eACfa,MAAM,SAER,4BACE,wBAAKzB,EAAUY,kBACf,wCAAgBZ,EAAUgB,WAA1B,QACA,sCACA,uBAAIhB,EAAUa,YACd,oCAEA,uBAAIb,EAAUe,OAAOW,KAAK,cAI9B,2BACE,sDACA,yBACE,SAAC,KAAD,CAASN,GAAG,OAAOZ,MAAO,CAAEC,KAAMF,GAAlC,qBAIF,yBACE,SAAC,KAAD,CAASa,GAAG,UAAUZ,MAAO,CAAEC,KAAMF,GAArC,2BAMJ,SAAC,EAAAoB,SAAD,CAAUC,UAAU,SAACC,EAAA,EAAD,IAApB,UACE,SAAC,KAAD,SAIL3B,GAASA,EAAM4B,UAGrB,C","sources":["components/API/API.jsx","webpack://react-homework-template/./src/pages/MovieItem/MovieItem.module.css?cadc","pages/MovieItem/MovieItem.jsx"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst API_KEY = 'f0b659a36af27a39ded78e96381ce721';\n\nexport const getTrendMovies = async () => {\n  try {\n    const response = await axios.get(`3/trending/movie/day?api_key=${API_KEY}`);\n    return response.data.results;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getMovieById = async (movieId, credits, reviews) => {\n  try {\n    const response = await axios.get(\n      `3/movie/${movieId}${credits ? '/credits' : ''}${\n        reviews ? '/reviews' : ''\n      }?api_key=${API_KEY}`\n    );\n    return response.data;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport const getMovieBySearch = async query => {\n  try {\n    const response = await axios.get(\n      `3/search/movie?api_key=${API_KEY}&query=${query}`\n    );\n    return response.data.results;\n  } catch (err) {\n    console.log(err);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"link\":\"MovieItem_link__HkCGw\",\"div\":\"MovieItem_div__MYYEo\"};","import { Suspense, useEffect, useState } from 'react';\nimport {\n  Link,\n  NavLink,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { getMovieById } from 'components/API/API';\n\nimport styles from './MovieItem.module.css';\nimport { Spinner } from 'components/Spinner/Spinner';\n\nconst MovieItem = () => {\n  const [movieData, setMovieData] = useState(null);\n  const [error, setError] = useState(null);\n  const { movieId } = useParams();\n  const location = useLocation();\n  const backLink = location?.state?.from ?? '/';\n\n  useEffect(() => {\n    try {\n      getMovieById(movieId, false, false).then(data => {\n        const { original_title, overview, poster_path, genres, popularity } =\n          data;\n        setMovieData({\n          original_title,\n          overview,\n          poster_path,\n          popularity,\n          genres: genres.map(g => g.name),\n        });\n      });\n    } catch (error) {\n      setError(error);\n    }\n  }, [movieId]);\n\n  return (\n    <div>\n      {movieData && (\n        <>\n          <Link to={backLink} className={styles.link}>\n            Go back\n          </Link>\n          <div className={styles.div}>\n            <img\n              src={`https://image.tmdb.org/t/p/w400${movieData.poster_path}`}\n              alt={movieData.original_title}\n              width=\"200\"\n            />\n            <div>\n              <h2>{movieData.original_title}</h2>\n              <p>User Score: {movieData.popularity}%</p>\n              <h3>Overview</h3>\n              <p>{movieData.overview}</p>\n              <h3>Genres</h3>\n\n              <p>{movieData.genres.join(' ')}</p>\n            </div>\n          </div>\n\n          <ul>\n            <span>Additional infromation</span>\n            <li>\n              <NavLink to=\"cast\" state={{ from: backLink }}>\n                Cast\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"reviews\" state={{ from: backLink }}>\n                Reviews\n              </NavLink>\n            </li>\n          </ul>\n\n          <Suspense fallback={<Spinner />}>\n            <Outlet />\n          </Suspense>\n        </>\n      )}\n      {error && error.message}\n    </div>\n  );\n};\n\nexport default MovieItem;\n"],"names":["axios","API_KEY","getTrendMovies","response","data","results","console","log","getMovieById","movieId","credits","reviews","getMovieBySearch","query","useState","movieData","setMovieData","error","setError","useParams","location","useLocation","backLink","state","from","useEffect","then","original_title","overview","poster_path","genres","popularity","map","g","name","to","className","styles","src","alt","width","join","Suspense","fallback","Spinner","message"],"sourceRoot":""}